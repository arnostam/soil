<!DOCTYPE html>
<html lang="en">

<head>
  <title>Flag</title>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3pro.css">
  <style>
    body {
      background-color: lightgrey;
      font-family: 'Ubuntu', sans-serif;
      font-size: 30px;
    }

    .wrapper {
      background-color: white;
      padding: 20px;
      margin: auto;
    }

    .titletext {
      padding: 10px 5px;
      display: inline-block;
    }

    .target_flag IMG {
      width: 100%;
    }

    #locality-dropdown {
      width: 100%;
    }
  </style>
</head>

<body>

  <div class="wrapper">
    <select id="locality-dropdown" class="foo" name="locality"></select>
    <div class="target_alpha2 titletext"></div>
    <div class="target_name titletext"></div>
    <div class="target_flag"></div>
  </div>

  <script>
    $(document).ready(function() {
      $('#locality-dropdown').change(function(e) {
        var sel = document.getElementById('locality-dropdown');
        var APIURL = 'https://restcountries.eu/rest/v2/name/' + sel.value + '?fields=alpha2Code;flag;name';
        console.log(APIURL);
        $.getJSON(APIURL, function(datafeed) {
          $(".target_alpha2").html(`${datafeed[0].alpha2Code}`);
          $(".target_name").html(`${datafeed[0].name}`);
          $(".target_flag").html(`<img src="${datafeed[0].flag}" alt="flag">`);
        });
      });
    });
  </script>

  <script>
    let dropdown = $('#locality-dropdown');
    dropdown.append('<option selected="true" disabled>Choose Country</option>');
    dropdown.prop('selectedIndex', 0);
    const url = 'https://restcountries.eu/rest/v2?fields=alpha2Code;flag;name;alpha2code';
    // Populate dropdown with list of provinces
    $.getJSON(url, function(data) {
      $.each(data, function(key, entry) {
        dropdown.append($('<option></option>').attr('value', entry.alpha2code).text(entry.name));
      })
    });
  </script>

</body>

</html>
